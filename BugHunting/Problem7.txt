The first bug is 'dataTmpFile == null'. 
The second bug is ' || '